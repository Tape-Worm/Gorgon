<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Gorgon chunked file format (GCFF)</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="GCFF, File, Format, Chunk" /><meta name="Microsoft.Help.Id" content="7b81343e-e2fc-4f0f-926a-d9193ae481fe" /><meta name="Description" content="This page gives a detailed explanation of the Gorgon chunk file format." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Gorgon<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="0abf7d37-670e-4f0d-8581-e0368e39e8ef.htm" title="Gorgon" tocid="roottoc">Gorgon</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="0abf7d37-670e-4f0d-8581-e0368e39e8ef.htm" title="Gorgon documentation" tocid="0abf7d37-670e-4f0d-8581-e0368e39e8ef">Gorgon documentation</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="7b81343e-e2fc-4f0f-926a-d9193ae481fe.htm" title="Specifications" tocid="cc4f5b47-b3df-472c-a3ae-9be176aa60bf">Specifications</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="7b81343e-e2fc-4f0f-926a-d9193ae481fe.htm" title="Gorgon chunked file format (GCFF)" tocid="7b81343e-e2fc-4f0f-926a-d9193ae481fe">Gorgon chunked file format (GCFF)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="Gorgon v2" src="../icons/Gorgon2Icon128x128.png" /></td><td class="titleColumn">Gorgon chunked file format (GCFF)</td></tr></table><span class="introStyle"></span><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p><div class="introduction"><p>This page gives a detailed explanation of the Gorgon chunk file format.</p><p>
      A chunk file is a binary file format that breaks up parts of the data into logical groupings called chunks. These chunks are unsigned 64 bit integer values
      that represent an ID for the chunk, followed by an arbitrary amount of application specific binary data. The chunked file format is advantageous because it 
      allows an application to read only the parts it cares about, discarding the rest. Through this we can achieve a simple form of versioning for the file format.       
      </p><p>
      Because we can choose to skip or include chunks, we may also have optional chunk values. Meaning that if an object has a value that's not been set at runtime 
      before serialization, we can choose not to write its chunk. When deserialzing this data back into an object, we can check for the existence of this chunk and 
      if it is there, read the data, or if not, move on to the next item.
      </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />File layout</span></div><div id="ID0RBSection" class="collapsibleSection"><p>The following is a detailed breakdown of the Gorgon chunk file format.</p><h4 class="subHeading">File header</h4><div class="subsection"><div class="tableSection"><table><tr><th><p>Name</p></th><th><p>Data type</p></th><th><p>Expected value</p></th><th><p>Data size</p></th><th><p>Description</p></th></tr><tr><td><p>The file header ID</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/06cf7918" target="_blank">UInt64</a></p></td><td><p><span class="code">GCFF + [4 bytes for version] (0xvvvvvvvv46464347)</span></p></td><td><p>8 bytes</p></td><td><p>This is the header ID for the file format. The 8 bytes compose an ASCII string indicating the header ID. The first 4 bytes make up the ID string 'GCFF',
					while the last 4 bytes indicate the file format version.</p><p>This version number is formatted as such: 0100 - Version 1.0, 0101 - Version 1.1, 0203 - Version 2.3, etc...</p></td></tr><tr><td><p>Application specific header ID</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/06cf7918" target="_blank">UInt64</a></p></td><td><p><em>Implementation specific</em></p></td><td><p>8 bytes</p></td><td><p>This is an application defined file header ID for the data stored within this file. It is up to the application implementing the file format 
					to define the value here.</p><p>Applications can use the <a href="4ab1c279-6cad-20a2-1927-3a6d0b8e36fa.htm">ChunkID(String)</a> method to build this ID value.</p></td></tr><tr><td><p>File size</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/6yy583ek" target="_blank">Int64</a></p></td><td><p><em>N/A</em></p></td><td><p>8 bytes</p></td><td><p>This is the total size of the file, in bytes.</p></td></tr><tr><td><p>Chunk table offset</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/6yy583ek" target="_blank">Int64</a></p></td><td><p><em>N/A</em></p></td><td><p>8 bytes</p></td><td><p>This is an offset, in bytes, into the chunk file where the chunk descriptors are stored. This is typically at the end of the file, after all 
					the chunk data. This value is relative to the beginning of the file.</p></td></tr></table></div></div><h4 class="subHeading">Chunks</h4><div class="subsection"><p>
      			Following the header is a series of chunk values. Each chunk will begin with an application specific <a href="http://msdn2.microsoft.com/en-us/library/6yy583ek" target="_blank">Int64</a>
      			chunk ID. The size of a chunk will vary depending on the data stored within the chunk. These IDs are <em>not</em> unique. That is, a chunk 
      			ID may appear more than once in the file.
      			</p><p>
      			A chunk is an application specific set of binary data that represents a serialized object. The file may contain many chunks, all of which are
      			catalogued in the chunk file table at the end of the file. 
      			</p></div><h4 class="subHeading">Chunk table</h4><div class="subsection"><p>
      			The chunk table is a special chunk with a signature of <span class="code">CHUNKTBL (0x4C42544B4E554843)</span>. It contains a list of all the chunks 
      			available in the file as individual chunk descriptors. This chunk is located at the offset specified by the Chunk table offset in the file header, typically 
      			this is at the end of the file.
      			</p><div class="alert"><table><tr><th><img src="../icons/AlertCaution.png" alt="Caution note" /> Caution</th></tr><tr><td><p>
      			This chunk ID is unique, no other chunk must have the same ID as the chunk table. Gorgon will enforce this by throwing an exception if an attempt to use this 
      			chunk ID is attempted.
      			</p></td></tr></table></div><div class="tableSection"><div class="caption">Chunk table layout</div><table><tr><th><p>Name</p></th><th><p>Data type</p></th><th><p>Expected value</p></th><th><p>Data size</p></th><th><p>Description</p></th></tr><tr><td><p>Chunk entry count</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a></p></td><td><p><em>N/A</em></p></td><td><p>4 bytes</p></td><td><p>This is the number of chunk entries in the file. </p></td></tr></table></div><div class="tableSection"><div class="caption">Chunk descriptor</div><table><tr><th><p>Name</p></th><th><p>Data type</p></th><th><p>Expected value</p></th><th><p>Data size</p></th><th><p>Description</p></th></tr><tr><td><p>ID</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/06cf7918" target="_blank">UInt64</a></p></td><td><p><em>N/A</em></p></td><td><p>8 bytes</p></td><td><p>This is the ID for the chunk.</p></td></tr><tr><td><p>Chunk size</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a></p></td><td><p><em>N/A</em></p></td><td><p>4 bytes</p></td><td><p>This is the size of the chunk, in bytes.</p></td></tr><tr><td><p>Chunk offset</p></td><td><p><a href="http://msdn2.microsoft.com/en-us/library/6yy583ek" target="_blank">Int64</a></p></td><td><p><em>N/A</em></p></td><td><p>8 bytes</p></td><td><p>This is the offset to the location of the chunk within the chunk file, in bytes. The offset is relative to the end of the header.</p></td></tr></table></div></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID1RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="31613bb6-5e96-baea-f17c-38f2b9e3a72e.htm">IGorgonChunkFileReader</a></div><div class="seeAlsoStyle"><a href="39fa2ad9-178b-d6fa-6f86-07427b420905.htm">IGorgonChunkFileWriter</a></div><div class="seeAlsoStyle"><a href="4392dc4c-f2fe-13ba-638b-b7601f792170.htm">IGorgonChunk</a></div></div></div></div><div id="pageFooter" class="pageFooter">Gorgon v2.0.0.0<p><a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">Copyright © 2015 - Licensed under the MIT license by Michael Winsor (Tape_Worm).  See MIT.txt for details.</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:gorgon%40tape-worm.net?Subject=Gorgon">the author</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>